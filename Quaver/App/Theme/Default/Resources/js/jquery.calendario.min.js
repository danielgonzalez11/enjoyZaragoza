!function(a,b){"use strict";a.Calendario=function(b,c){this.$el=a(c),this._init(b)},a.Calendario.defaults={weeks:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],weekabbrs:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthabbrs:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],displayWeekAbbr:!1,displayMonthAbbr:!1,startIn:1,onDayClick:function(){return!1}},a.Calendario.prototype={_init:function(b){this.options=a.extend(!0,{},a.Calendario.defaults,b),this.today=new Date,this.month=isNaN(this.options.month)||null==this.options.month?this.today.getMonth():this.options.month-1,this.year=isNaN(this.options.year)||null==this.options.year?this.today.getFullYear():this.options.year,this.caldata=this.options.caldata||{},this._generateTemplate(),this._initEvents()},_initEvents:function(){var b=this;this.$el.on("click.calendario","div.fc-row > div",function(){var c=a(this),d=c.index(),e=c.children("div"),f={day:c.children("span.fc-date").text(),month:b.month+1,monthname:b.options.displayMonthAbbr?b.options.monthabbrs[b.month]:b.options.months[b.month],year:b.year,weekday:d+b.options.startIn,weekdayname:b.options.weeks[d+b.options.startIn]};f.day&&b.options.onDayClick(c,e,f)})},_generateTemplate:function(b){var e,c=this._getHead(),d=this._getBody();switch(this.rowTotal){case 4:e="fc-four-rows";break;case 5:e="fc-five-rows";break;case 6:e="fc-six-rows"}this.$cal=a('<div class="fc-calendar '+e+'">').append(c,d),this.$el.find("div.fc-calendar").remove().end().append(this.$cal),b&&b.call()},_getHead:function(){for(var a='<div class="fc-head">',b=0;6>=b;b++){var c=b+this.options.startIn,d=c>6?c-6-1:c;a+="<div>",a+=this.options.displayWeekAbbr?this.options.weekabbrs[d]:this.options.weeks[d],a+="</div>"}return a+="</div>"},_getBody:function(){var a=new Date(this.year,this.month+1,0),b=a.getDate(),c=new Date(this.year,this.month,1);this.startingDay=c.getDay();for(var d='<div class="fc-body"><div class="fc-row">',e=1,f=0;7>f;f++){for(var g=0;6>=g;g++){var h=this.startingDay-this.options.startIn,i=0>h?6+h+1:h,j="",k=this.month===this.today.getMonth()&&this.year===this.today.getFullYear()&&e===this.today.getDate(),l="";if(b>=e&&(f>0||g>=i)){j+='<span class="fc-date">'+e+'</span><span class="fc-weekday">'+this.options.weekabbrs[g+this.options.startIn>6?g+this.options.startIn-6-1:g+this.options.startIn]+"</span>";var m=(this.month+1<10?"0"+(this.month+1):this.month+1)+"-"+(10>e?"0"+e:e)+"-"+this.year,n=this.caldata[m];n&&(l=n),""!==l&&(j+="<div>"+l+"</div>"),++e}else k=!1;var o=k?"fc-today ":"";""!==l&&(o+="fc-content"),d+=""!==o?'<div class="'+o+'">':"<div>",d+=j,d+="</div>"}if(e>b){this.rowTotal=f+1;break}d+='</div><div class="fc-row">'}return d+="</div></div>"},_isValidDate:function(a){a=a.replace(/-/gi,"");var b=parseInt(a.substring(0,2),10),c=parseInt(a.substring(2,4),10),d=parseInt(a.substring(4,8),10);return 1>b||b>12?!1:1>c||c>31?!1:(4==b||6==b||9==b||11==b)&&c>30?!1:2==b&&(0==d%400||0==d%4)&&0!=d%100&&c>29?!1:2==b&&0==d%100&&c>29?!1:{day:c,month:b,year:d}},_move:function(a,b,c){"previous"===b?"month"===a?(this.year=this.month>0?this.year:--this.year,this.month=this.month>0?--this.month:11):"year"===a&&(this.year=--this.year):"next"===b&&("month"===a?(this.year=this.month<11?this.year:++this.year,this.month=this.month<11?++this.month:0):"year"===a&&(this.year=++this.year)),this._generateTemplate(c)},getYear:function(){return this.year},getMonth:function(){return this.month+1},getMonthName:function(){return this.options.displayMonthAbbr?this.options.monthabbrs[this.month]:this.options.months[this.month]},getCell:function(a){var b=Math.floor((a+this.startingDay-this.options.startIn)/7),c=a+this.startingDay-this.options.startIn-7*b-1;return this.$cal.find("div.fc-body").children("div.fc-row").eq(b).children("div").eq(c).children("div")},setData:function(b){b=b||{},a.extend(this.caldata,b),this._generateTemplate()},gotoNow:function(a){this.month=this.today.getMonth(),this.year=this.today.getFullYear(),this._generateTemplate(a)},"goto":function(a,b,c){this.month=a,this.year=b,this._generateTemplate(c)},gotoPreviousMonth:function(a){this._move("month","previous",a)},gotoPreviousYear:function(a){this._move("year","previous",a)},gotoNextMonth:function(a){this._move("month","next",a)},gotoNextYear:function(a){this._move("year","next",a)}};var d=function(a){b.console&&b.console.error(a)};a.fn.calendario=function(b){var c=a.data(this,"calendario");if("string"==typeof b){var e=Array.prototype.slice.call(arguments,1);this.each(function(){return c?a.isFunction(c[b])&&"_"!==b.charAt(0)?(c[b].apply(c,e),void 0):(d("no such method '"+b+"' for calendario instance"),void 0):(d("cannot call methods on calendario prior to initialization; attempted to call method '"+b+"'"),void 0)})}else this.each(function(){c?c._init():c=a.data(this,"calendario",new a.Calendario(b,this))});return c}}(jQuery,window);